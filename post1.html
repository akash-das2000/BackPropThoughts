<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>How I Fine-Tuned an LLM</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="styles.css">

  <!-- Google AdSense -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({
      google_ad_client: "ca-pub-xxxxxxxxxxxxxx",
      enable_page_level_ads: true
    });
  </script>
</head>
<body>
  <header>
    <h1>How I Fine-Tuned an LLM</h1>
  </header>

  <main>
    <p>In this post, I describe how I used LoRA and GRPO to fine-tune a transformer model with minimal resources...</p>

    <!-- Google Ad Block -->
    <ins class="adsbygoogle"
         style="display:block"
         data-ad-client="ca-pub-xxxxxxxxxxxxxx"
         data-ad-slot="yyyyyyyyyyyy"
         data-ad-format="auto"></ins>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({});
    </script>

    <!-- üü© COMMENTS SECTION STARTS HERE -->
    <section id="comments-area">
      <h2>Leave a Comment</h2>
      <form id="comment-form">
        <input type="text" id="name" placeholder="Your name" required><br><br>
        <textarea id="comment" placeholder="Your comment" rows="5" required></textarea><br><br>
        <button type="submit">Post Comment</button>
      </form>

      <h2>Comments</h2>
      <div id="comments-section">Loading comments...</div>
    </section>
    <!-- üü• COMMENTS SECTION ENDS HERE -->
  </main>

  <footer>
    <p><a href="index.html">‚Üê Back to Home</a></p>
  </footer>

  <!-- ‚úÖ FIREBASE SDK + COMMENTS SCRIPT -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
    import { getFirestore, collection, addDoc, query, where, orderBy, onSnapshot, serverTimestamp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js";

    // üü° Replace with your own Firebase config below:
    const firebaseConfig = {
      apiKey: "AIzaSyA3AkLphGPQy35cLP1rEt0g3hp4SQpt4XE",
      authDomain: "backpropthoughtscomments.firebaseapp.com",
      projectId: "backpropthoughtscomments",
      storageBucket: "backpropthoughtscomments.firebasestorage.app",
      messagingSenderId: "903589800417",
      appId: "1:903589800417:web:d605b4eadde34a4dd78aa0"
    };

    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);
    const postId = "post1";

    // Submit new comment
    const form = document.getElementById("comment-form");
    form.addEventListener("submit", async (e) => {
      e.preventDefault();
      const name = document.getElementById("name").value.trim();
      const comment = document.getElementById("comment").value.trim();

      if (name && comment) {
        await addDoc(collection(db, "comments"), {
          name,
          comment,
          postId,
          timestamp: serverTimestamp()
        });
        form.reset();
      }
    });

    // Load comments in real-time
    const commentBox = document.getElementById("comments-section");
    const q = query(collection(db, "comments"), where("postId", "==", postId), orderBy("timestamp", "desc"));

    onSnapshot(q, (snapshot) => {
      commentBox.innerHTML = "";
      if (snapshot.empty) {
        commentBox.innerHTML = "<p>No comments yet. Be the first!</p>";
      }
      snapshot.forEach((doc) => {
        const data = doc.data();
        let time = "Just now";
        try {
          if (data.timestamp && data.timestamp.toDate) {
            time = data.timestamp.toDate().toLocaleString();
          }
        } catch (e) {
          console.warn("Invalid timestamp:", e);
        }
        const div = document.createElement("div");
        div.classList.add("comment");
        div.innerHTML = `<strong>${data.name}</strong> <em>${time}</em><p>${data.comment}</p><hr>`;
        commentBox.appendChild(div);
      });
    });
  </script>
</body>
</html>
