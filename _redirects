# 1) Let true static assets under /posts/:slug/ pass straight through:
#    This makes sure images, CSS, JS, etc., aren’t hijacked by the rewrite.
#    It matches any filename+extension under /posts/<slug>/
#    and serves it normally.
# 
#    e.g. /posts/advanced-diffusion-models/featured.png
#
/posts/:slug/:file.:ext    /posts/:slug/:file.:ext    200

# 2) Redirect your old query‐string URL to the pretty one.
#    This issues a 301 so the browser actually changes
#      /post?postId=random-forest-algorithm
#    into
#      /posts/random-forest-algorithm/
#
/post?postId=:slug         /posts/:slug/              301!

# 3) Rewrite any /posts/:slug[/…] back into your loader in one step.
#    Netlify serves post.html with the right postId behind the scenes,
#    but the browser keeps the “pretty” /posts/slug/ URL in the address bar.
#
/posts/:slug               /post.html?postId=:slug    200
/posts/:slug/*             /post.html?postId=:slug    200
